"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}Shuang.core.model=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,a),this.sheng=b.toLowerCase(),this.yun=c.toLowerCase(),this.dict=Shuang.resource.dict[this.sheng][this.yun],this.scheme=new Set,this.view={sheng:this.sheng?this.sheng[0].toUpperCase()+this.sheng.slice(1):"",yun:this.yun}}return _createClass(a,[{key:"beforeJudge",value:function H(){this.scheme.clear();var a=Shuang.app.setting.config.scheme,b=Shuang.resource.scheme[a].detail;if(!b.other[this.sheng+this.yun]){var c=!0,d=!1,e=void 0;try{for(var f,g=b.sheng[this.sheng][Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value,i=!0,j=!1,k=void 0;try{for(var l,m,n=b.yun[this.yun][Symbol.iterator]();!(i=(l=n.next()).done);i=!0)m=l.value,this.scheme.add(h+m)}catch(a){j=!0,k=a}finally{try{i||null==n.return||n.return()}finally{if(j)throw k}}}}catch(a){d=!0,e=a}finally{try{c||null==g.return||g.return()}finally{if(d)throw e}}if("u"===this.yun&&"jqxy".includes(this.sheng)){var o=!0,p=!1,q=void 0;try{for(var r,t=b.sheng[this.sheng][Symbol.iterator]();!(o=(r=t.next()).done);o=!0){var u=r.value,s=!0,v=!1,w=void 0;try{for(var x,z,A=b.yun.v[Symbol.iterator]();!(s=(x=A.next()).done);s=!0)z=x.value,this.scheme.add(u+z)}catch(a){v=!0,w=a}finally{try{s||null==A.return||A.return()}finally{if(v)throw w}}}}catch(a){p=!0,q=a}finally{try{o||null==t.return||t.return()}finally{if(p)throw q}}}}else if(Array.isArray(b.other[this.sheng+this.yun])){var B=!0,C=!1,D=void 0;try{for(var E,F,G=b.other[this.sheng+this.yun][Symbol.iterator]();!(B=(E=G.next()).done);B=!0)F=E.value,this.scheme.add(F)}catch(a){C=!0,D=a}finally{try{B||null==G.return||G.return()}finally{if(C)throw D}}}else this.scheme.add(b.other[this.sheng+this.yun])}},{key:"judge",value:function c(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return this.beforeJudge(),a=a.toLowerCase(),b=b.toLowerCase(),this.scheme.has(a+b)}}],[{key:"getRandom",value:function e(){var a=Math.floor,b=Shuang.resource.dict.list[a(Math.random()*Shuang.resource.dict.list.length)],c=Shuang.resource.dict[b].list[a(Math.random()*Shuang.resource.dict[b].list.length)],d=new Shuang.core.model(b,c);return Shuang.core.model.isSame(d,Shuang.core.current)?Shuang.core.model.getRandom():d}},{key:"getHardRandom",value:function a(){for(var b=Shuang.core.model.getRandom();""===b.sheng||1===b.yun.length;)b=Shuang.core.model.getRandom();return b}},{key:"getByOrder",value:function a(){for(;;){var b=Shuang.resource.dict.list[Shuang.core.order.shengIndex];if(void 0!==b){var c=Shuang.resource.dict[b].list[Shuang.core.order.yunIndex];if(c)return Shuang.core.order.yunIndex++,new Shuang.core.model(b,c)}0===Shuang.core.order.yunIndex?Shuang.core.order.shengIndex=0:(Shuang.core.order.shengIndex++,Shuang.core.order.yunIndex=0)}}},{key:"isSame",value:function b(c,a){return c.sheng===a.sheng&&c.yun===a.yun}}]),a}();